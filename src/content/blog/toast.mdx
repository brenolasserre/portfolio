---
title: 'Using MDX'
description: 'Lorem ipsum dolor sit amet'
---

import Toast from '../../components/playground/Toast.tsx';

##### **Building the Family's Toast**

<br />

I loved the design on this toast so I tried to recreate it.
I like having confirmation modals for irreversible actions like deleting a project. But most existing options feel clunky, so I decided to experiment with creating my own using Framer Motion.

<br />

<Toast client:load />

![Family's Toast](/blog/toast.gif)

It's really helpful to record an animation you like and try to catch the little details on slow motion.

<br />

The structure is fairly simple, but I ran into some issues. First, the text wasn't shrinking the first few miliseconds after opening it. That was solved thanks to tailwind's `truncate` class, wich is essentially:

```css
.truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
```

<br />

Now the text will truncate if the Toast wrapper is too small.

```tsx
<MotionConfig transition={{ type: 'spring', duration: 0.6 }}>
  <AnimatePresence mode='popLayout'>
    {isOpen && (
      <div className='flex h-10 justify-center'>
        <motion.button
          initial={{y: -40,width: '10%',opacity: 0,scale: 0.9,filter: 'blur(6px)',}}
          animate={{y: 0,opacity: 1,width: '100%',scale: 1,filter: 'blur(0px)',}}
          exit={{y: -40,opacity: 0,scale: 0.8,width: '10%',filter: 'blur(6px)',}}
          style={{ fontSize: 16 }}
          className='relative flex w-fit justify-center rounded-full bg-[#EDEDED] px-6 py-2 text-center text-black'
        >
          <span className='absolute left-0 top-0 z-40 h-full w-14 rounded-l-full bg-gradient-to-r from-[#EDEDED] to-transparent ' />
          <AnimatePresence>
            <motion.span
              className='mx-auto truncate text-center'
              initial={{ opacity: 0, filter: 'blur(2px)' }}
              animate={{ opacity: 1, filter: 'blur(0px)' }}
              exit={{ opacity: 0, filter: 'blur(2px)' }}
            >
              Text Copied!
            </motion.span>
          </AnimatePresence>
          <span className='absolute right-0 top-0 z-40 h-full w-14 rounded-r-full bg-gradient-to-l from-[#EDEDED] to-transparent ' />
        </motion.button>
      </div>
    )}
  </AnimatePresence>
</MotionConfig>
```

<br />
<br />

Something I really liked about it was the gradient on the sides. You can see the
text fading in.

```js
const buttonContent = {
  idle: 'Delete Project',
  delete: 'Delete',
  loading: 'Deleting...',
};
```

<br />
<br />

In this case, for the fill animation that resembles a loading bar, it gets rendered when the buttonState is `loading`. It's as easy as placing it absolutely behind the text span and animate its width like this:

```tsx
{
  buttonState === 'testloading' && (
    <motion.span
      style={{
        borderRadius: 14,
        width: 0,
        fontSize: 16,
        backgroundColor: '#ff31311e',
      }}
      initial={{ opacity: 0 }}
      transition={{ duration: 2.7, ease: easeOut }}
      animate={{ opacity: 1, width: '100%' }}
      exit={{ opacity: 0 }}
      className='absolute left-0 top-0 h-full'
    ></motion.span>
  );
}
```

<br />
<br />

Finally, I added a modal confirmation with info and styled the app.

The logic remains the same, I just added an overlay and a second screen:

<br />

For the full code, you can check it [here](https://github.com/brenolasserre/portfolio/tree/main/src/components/playground)
